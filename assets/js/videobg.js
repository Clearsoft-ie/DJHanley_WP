"use strict";!function(i,t,e){var o=function(t){this.$videoEl=i(t),this.videoType=this.$videoEl.attr("data-videotype"),this.$element=this.$videoEl.parent(),this.$window=i(e),this.isInTool=document.body.hasAttribute("data-istool"),this.init()};o.prototype={init:function(){e._monoVideoBG||(e._monoVideoBG={}),this.setRatio(),this.resizeVideo(),this.playVideo(),this.bindEvents()},setRatio:function(){this.ratio=this.$videoEl.attr("data-ratio")?parseFloat(this.$videoEl.attr("data-ratio")):this.$videoEl[0].videoWidth/this.$videoEl[0].videoHeight},playVideo:function(){var i=this;switch(this.videoType){case"youtube":e.YTReady||(e.YTReady=[]),e.YTReady.push(function(){i.player=new YT.Player(i.$videoEl[0],{events:{onReady:function(t){i.isInTool?i.$videoEl.css("opacity",1):(t.target.mute(),t.target.playVideo())},onStateChange:function(t){1==t.data&&i.$videoEl.css("opacity",1)}}})}),"undefined"==typeof e.onYouTubeIframeAPIReady&&(e.onYouTubeIframeAPIReady=function(){e.YTReady.forEach(function(i,t){e.YTReady[t]()})});break;case"vimeo":i.onVimeoAPIReady(function(){i.player=$f(i.$videoEl[0]),i.player.addEvent("ready",function(){i.playVimeo()}),i.playVimeo()});break;default:i.$videoEl.css("opacity",1)}},onVimeoAPIReady:function(i){var t=this;t.vimeoInterval=setInterval(function(){return"undefined"==typeof $f?!1:(clearInterval(t.vimeoInterval),void i())},10)},resizeVideo:function(){var i,t,e=this.$element.outerWidth(),o=this.$element.outerHeight();e/this.ratio<o?(this.videoWidth=Math.ceil(o*this.ratio),this.videoHeight=o,t=(e-this.videoWidth)/2,i=0):(this.videoHeight=Math.ceil(e/this.ratio),this.videoWidth=e,t=0,i=(o-this.videoHeight)/2),this.$videoEl.css({width:this.videoWidth,height:this.videoHeight,left:t,top:i})},bindEvents:function(){this.$window.on("resize.monovideobg",i.proxy(this.resizeVideo,this))},playVimeo:function(){var i=this;i.isInTool||(i.player.api("setVolume",0),i.player.api("play")),i.$videoEl.css("opacity",1)}},i.fn.monovideobg=function(){return this.each(function(){i.data(this,"monovideobg")||i.data(this,"monovideobg",new o(this))})}}(jQuery,Modernizr,window),$('[data-req*="videobg"]').each(function(i,t){$(t).monovideobg()});